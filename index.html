<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Avisv√¶rksted ‚Äì Ugeavis (enkel)</title>
  <style>
    :root{
      --bg:#fafafa;--card:#ffffff;--ink:#111;--muted:#666;--line:#e9e9e9;--accent:#0b74ff;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Noto Sans, "Apple Color Emoji","Segoe UI Emoji";color:var(--ink);background:var(--bg)}
    header{position:sticky;top:0;z-index:10;background:rgba(250,250,250,.9);backdrop-filter:saturate(120%) blur(6px);border-bottom:1px solid var(--line)}
    .wrap{max-width:1100px;margin:auto;padding:16px}
    h1{margin:0;font-size:20px}
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    .pill{display:inline-flex;gap:8px;align-items:center;border:1px solid var(--line);padding:8px 10px;border-radius:999px;background:var(--card)}
    .pill input{min-width:70px;width:8ch;border:none;outline:none;font:inherit}
    .btn{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);background:#fff;padding:10px 12px;border-radius:10px;cursor:pointer}
    .btn.primary{background:var(--accent);color:#fff;border-color:var(--accent)}
    .grid{display:grid;gap:16px;grid-template-columns:repeat(12,1fr)}
    .col-4{grid-column:span 4}
    .col-6{grid-column:span 6}
    .col-8{grid-column:span 8}
    .col-12{grid-column:span 12}
    @media (max-width:980px){.col-4,.col-6,.col-8{grid-column:span 12}}
    .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px}
    .card h2{margin:0 0 8px 0;font-size:18px}
    label{display:block;font-size:12px;color:var(--muted);margin:8px 0 6px}
    input[type=text], textarea, select{width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:10px;background:#fff;font:inherit}
    textarea{min-height:120px;resize:vertical}
    .small{font-size:12px;color:var(--muted)}
    .list{display:flex;flex-direction:column;gap:12px;margin-top:8px}
    .rowline{display:grid;grid-template-columns: 1fr 1fr;gap:8px}
    .kbd{font:12px/1.3 ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;background:#f1f1f1;border:1px solid var(--line);border-radius:6px;padding:2px 6px}
    .section-actions{display:flex;gap:8px;flex-wrap:wrap}
    .tabbar{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .tab{padding:8px 12px;border:1px solid var(--line);border-radius:999px;cursor:pointer;background:#fff}
    .tab.active{background:var(--ink);color:#fff;border-color:var(--ink)}
    .hide{display:none}
    .muted{color:var(--muted)}
    .hr{height:1px;background:var(--line);margin:12px 0}
    .footer{padding:20px 0;color:var(--muted);font-size:12px;text-align:center}
  </style>
</head>
<body>
  <header>
    <div class="wrap row">
      <h1>üóûÔ∏è Avisv√¶rksted</h1>
      <div class="pill" title="Ugenummer og √•rstal bruges som f√¶lles ID">
        Uge
        <input id="uge" type="number" min="1" max="53" />
        √Ör
        <input id="aar" type="number" min="2024" max="2100" />
      </div>
      <div class="pill" title="Brug samme ID p√• flere computere for at skrive i samme avis">
        Avis‚ÄëID
        <input id="issueId" type="text" placeholder="fx 2025-34-6kl" />
      </div>
      <button class="btn" id="newIdBtn" title="Gener√©r et kort ID baseret p√• uge og √•r">Gener√©r ID</button>
      <div style="flex:1"></div>
      <button class="btn" id="saveBtn" title="Gem lokalt (auto gemmer ogs√•)">Gem</button>
      <button class="btn" id="loadBtn" title="Indl√¶s fra lokalt lager">Indl√¶s</button>
      <button class="btn" id="exportBtn" title="Download JSON">Eksport</button>
      <button class="btn primary" id="printBtn" title="Udskriv elevvenligt layout">Print</button>
    </div>
  </header>

  <main class="wrap" style="padding-top:14px">
    <div class="tabbar">
      <button class="tab active" data-tab="research">1) Research</button>
      <button class="tab" data-tab="interviews">2) Interview</button>
      <button class="tab" data-tab="articles">3) Artikel</button>
      <button class="tab" data-tab="overview">üìã Overblik</button>
      <button class="tab" data-tab="sync">‚òÅÔ∏è Samarbejde</button>
    </div>

    <!-- Research -->
    <section class="grid" id="tab-research" style="margin-top:12px">
      <div class="card col-6">
        <h2>Research‚Äëkort</h2>
        <label>Emne</label>
        <input type="text" id="resTopic" placeholder="Hvad unders√∏ger I?">
        <label>Kilder (links, b√∏ger, personer)</label>
        <textarea id="resSources" placeholder="Skriv √©n pr. linje"></textarea>
        <label>Fakta</label>
        <textarea id="resFacts" placeholder="Kort, kontante punkter (max 5)"></textarea>
        <div class="section-actions">
          <button class="btn" id="addResearch">Tilf√∏j research til avisen</button>
        </div>
        <p class="small">Tip: Brug <span class="kbd">Shift+Enter</span> for ny linje.</p>
      </div>
      <div class="card col-6">
        <h2>Research i denne uge</h2>
        <div id="researchList" class="list"></div>
      </div>
    </section>

    <!-- Interview -->
    <section class="grid hide" id="tab-interviews" style="margin-top:12px">
      <div class="card col-6">
        <h2>Interview‚Äëkort</h2>
        <label>Kilde (navn/funktion)</label>
        <input type="text" id="intName" placeholder="Hvem taler I med?">
        <label>5 n√∏glesp√∏rgsm√•l</label>
        <textarea id="intQs" placeholder="√ân pr. linje (fx Hvad skete der? Hvorfor?)"></textarea>
        <label>Citater / svar (kort)</label>
        <textarea id="intQuotes" placeholder="2‚Äë3 pr√¶cise citater"></textarea>
        <div class="section-actions">
          <button class="btn" id="addInterview">Tilf√∏j interview til avisen</button>
        </div>
      </div>
      <div class="card col-6">
        <h2>Interviews i denne uge</h2>
        <div id="interviewList" class="list"></div>
      </div>
    </section>

    <!-- Articles -->
    <section class="grid hide" id="tab-articles" style="margin-top:12px">
      <div class="card col-6">
        <h2>Artikel‚Äëkort</h2>
        <label>Overskrift</label>
        <input type="text" id="artTitle" placeholder="Skriv en kort, pr√¶cis overskrift">
        <label>Underlinje (1 s√¶tning)</label>
        <input type="text" id="artDek" placeholder="Hvad handler artiklen om ‚Äì i √©n s√¶tning?">
        <label>Br√∏dtekst</label>
        <textarea id="artBody" placeholder="Korte afsnit. Start med det vigtigste (5 H‚Äôer)"></textarea>
        <div class="row" style="gap:8px;margin-top:8px">
          <label style="margin:0">Forfatter(e)</label>
          <input type="text" id="artBy" placeholder="Navne" style="max-width:260px">
          <label style="margin:0">Sektion</label>
          <select id="artSection" style="max-width:220px">
            <option>Nyheder</option>
            <option>Skoleliv</option>
            <option>Kultur</option>
            <option>Sport</option>
            <option>Mening</option>
          </select>
        </div>
        <div class="section-actions">
          <button class="btn" id="addArticle">Tilf√∏j artikel</button>
        </div>
      </div>
      <div class="card col-6">
        <h2>Artikler i denne uge</h2>
        <div id="articleList" class="list"></div>
      </div>
    </section>

    <!-- Overview -->
    <section class="grid hide" id="tab-overview" style="margin-top:12px">
      <div class="card col-12">
        <h2>Overblik & udskrift</h2>
        <p class="muted">Se alt indhold samlet. Brug <b>Print</b> i toppen for A4/A3 udgave.</p>
        <div id="overview"></div>
      </div>
    </section>

    <!-- Sync -->
    <section class="grid hide" id="tab-sync" style="margin-top:12px">
      <div class="card col-12">
        <h2>‚òÅÔ∏è Samarbejde (flere computere, samme avis)</h2>
        <ol class="small">
          <li>V√¶lg et f√¶lles <b>Avis‚ÄëID</b> (fx <i>2025-34-6kl</i>) og skriv det i feltet i toppen p√• ALLE computere.</li>
          <li>V√¶lg samme uge/√•r.</li>
          <li>Sl√• <b>Realtime</b> til herunder (kr√¶ver Firebase‚Äën√∏gle ‚Äì gratis plan kan bruges).</li>
        </ol>
        <div class="hr"></div>
        <div class="row" style="gap:12px;align-items:center">
          <button class="btn" id="rtToggle">Aktiv√©r realtime</button>
          <span id="rtStatus" class="small muted">Offline</span>
        </div>
        <details style="margin-top:12px">
          <summary class="btn" style="display:inline-flex">Vis Firebase ops√¶tning</summary>
<pre class="small" style="white-space:pre-wrap;border:1px solid var(--line);padding:12px;border-radius:10px;background:#fff">
1) Opret et gratis projekt p√• <b>Firebase</b> ‚Üí Realtime Database (test rules).
2) Klik Web‚Äëapp & kopi√©r config‚Äëobjektet.
3) Inds√¶t herunder og genindl√¶s siden. (Gemmer i din browser lokalt.)

<strong>firebaseConfig</strong> eksempel:
{
  apiKey: "‚Ä¶",
  authDomain: "‚Ä¶",
  databaseURL: "https://DITT‚ÄëPROJEKT.europe‚Äëwest1.firebasedatabase.app",
  projectId: "‚Ä¶",
  storageBucket: "‚Ä¶",
  messagingSenderId: "‚Ä¶",
  appId: "‚Ä¶"
}
</pre>
          <label>firebaseConfig (JSON)</label>
          <textarea id="firebaseCfg" placeholder="Inds√¶t hele config‚Äëobjektet her og tryk Gem ops√¶tning" style="min-height:120px"></textarea>
          <div class="section-actions">
            <button class="btn" id="saveCfg">Gem ops√¶tning</button>
            <button class="btn" id="clearCfg">Nulstil ops√¶tning</button>
          </div>
        </details>
      </div>
    </section>

    <div class="footer">v0.4 ‚Äì Enkel struktur ¬∑ Autosave ¬∑ Print ¬∑ (valgfri) realtime samarbejde</div>
  </main>

  <template id="tpl-research-item">
    <div class="card">
      <div class="row" style="justify-content:space-between;align-items:center">
        <strong class="title"></strong>
        <div>
          <button class="btn" data-moveup>‚ñ≤</button>
          <button class="btn" data-movedown>‚ñº</button>
          <button class="btn" data-del>Slet</button>
        </div>
      </div>
      <div class="small muted">Kilder</div>
      <div class="sources small"></div>
      <div class="small muted" style="margin-top:6px">Fakta</div>
      <div class="facts"></div>
    </div>
  </template>

  <template id="tpl-interview-item">
    <div class="card">
      <div class="row" style="justify-content:space-between;align-items:center">
        <strong class="name"></strong>
        <div>
          <button class="btn" data-moveup>‚ñ≤</button>
          <button class="btn" data-movedown>‚ñº</button>
          <button class="btn" data-del>Slet</button>
        </div>
      </div>
      <div class="small muted">Sp√∏rgsm√•l</div>
      <div class="qs small"></div>
      <div class="small muted" style="margin-top:6px">Citater</div>
      <div class="quotes"></div>
    </div>
  </template>

  <template id="tpl-article-item">
    <div class="card">
      <div class="row" style="justify-content:space-between;align-items:center">
        <div>
          <strong class="title"></strong>
          <div class="small muted dek"></div>
        </div>
        <div>
          <button class="btn" data-moveup>‚ñ≤</button>
          <button class="btn" data-movedown>‚ñº</button>
          <button class="btn" data-del>Slet</button>
        </div>
      </div>
      <div class="small"><b>Sektion:</b> <span class="section"></span> ¬∑ <b>Af:</b> <span class="by"></span></div>
      <div class="hr"></div>
      <div class="body"></div>
    </div>
  </template>

  <script>
  // ---------- Data model ----------
  const state = {
    uge: new Date().getWeek?.() || 34,
    aar: new Date().getFullYear(),
    issueId: "",
    research: [],
    interviews: [],
    articles: [],
    rt: { enabled:false, app:null, db:null, ref:null }
  };

  // Helpers
  const $ = sel => document.querySelector(sel);
  const $$ = sel => Array.from(document.querySelectorAll(sel));
  const setVal = (id, v) => (document.getElementById(id).value = v ?? "");
  const getVal = id => document.getElementById(id).value.trim();
  const storageKey = () => `avisv-${state.aar}-u${state.uge}-${state.issueId||"default"}`;

  // Week polyfill (ISO week number)
  (function(){
    if(!Date.prototype.getWeek){
      Date.prototype.getWeek=function(){
        const d=new Date(Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()));
        const day=(d.getUTCDay()+6)%7; d.setUTCDate(d.getUTCDate()-day+3);
        const first=new Date(Date.UTC(d.getUTCFullYear(),0,4));
        return 1+Math.round(((d-first)/86400000-3+((first.getUTCDay()+6)%7))/7);
      }
    }
  })();

  // ---------- Rendering ----------
  function renderLists(){
    // research
    const rList = $('#researchList'); rList.innerHTML = '';
    state.research.forEach((r,i)=>{
      const t = document.getElementById('tpl-research-item').content.cloneNode(true);
      t.querySelector('.title').textContent = r.topic;
      t.querySelector('.sources').textContent = (r.sources||[]).join(' ¬∑ ');
      t.querySelector('.facts').innerHTML = `<ul>${(r.facts||[]).map(f=>`<li>${escapeHtml(f)}</li>`).join('')}</ul>`;
      attachRowHandlers(t, state.research, i, renderAll);
      rList.appendChild(t);
    });

    // interviews
    const iList = $('#interviewList'); iList.innerHTML = '';
    state.interviews.forEach((iv,i)=>{
      const t = document.getElementById('tpl-interview-item').content.cloneNode(true);
      t.querySelector('.name').textContent = iv.name;
      t.querySelector('.qs').textContent = (iv.qs||[]).join(' ¬∑ ');
      t.querySelector('.quotes').innerHTML = `<ul>${(iv.quotes||[]).map(q=>`<li>‚Äú${escapeHtml(q)}‚Äù</li>`).join('')}</ul>`;
      attachRowHandlers(t, state.interviews, i, renderAll);
      iList.appendChild(t);
    });

    // articles
    const aList = $('#articleList'); aList.innerHTML='';
    state.articles.forEach((a,i)=>{
      const t = document.getElementById('tpl-article-item').content.cloneNode(true);
      t.querySelector('.title').textContent = a.title;
      t.querySelector('.dek').textContent = a.dek;
      t.querySelector('.section').textContent = a.section;
      t.querySelector('.by').textContent = a.by;
      t.querySelector('.body').innerHTML = a.body.split('\n').map(p=>`<p>${escapeHtml(p)}</p>`).join('');
      attachRowHandlers(t, state.articles, i, renderAll);
      aList.appendChild(t);
    });

    // overview
    const ov = $('#overview');
    ov.innerHTML = `
      <h3>Research (${state.research.length})</h3>
      ${state.research.map(r=>`<div class="card" style="margin-bottom:8px"><strong>${escapeHtml(r.topic)}</strong><div class="small muted">Kilder</div><div class="small">${(r.sources||[]).map(escapeHtml).join(' ¬∑ ')}</div><div class="small muted" style="margin-top:6px">Fakta</div><ul>${(r.facts||[]).map(f=>`<li>${escapeHtml(f)}</li>`).join('')}</ul></div>`).join('')}
      <h3 style="margin-top:16px">Interviews (${state.interviews.length})</h3>
      ${state.interviews.map(iv=>`<div class="card" style="margin-bottom:8px"><strong>${escapeHtml(iv.name)}</strong><div class="small muted">Sp√∏rgsm√•l</div><div class="small">${(iv.qs||[]).map(escapeHtml).join(' ¬∑ ')}</div><div class="small muted" style="margin-top:6px">Citater</div><ul>${(iv.quotes||[]).map(q=>`<li>‚Äú${escapeHtml(q)}‚Äù</li>`).join('')}</ul></div>`).join('')}
      <h3 style="margin-top:16px">Artikler (${state.articles.length})</h3>
      ${state.articles.map(a=>`<div class="card" style="margin-bottom:8px"><h4 style="margin:0">${escapeHtml(a.title)}</h4><div class="small muted">${escapeHtml(a.dek)}</div><div class="small"><b>Sektion:</b> ${escapeHtml(a.section)} ¬∑ <b>Af:</b> ${escapeHtml(a.by)}</div><div class="hr"></div>${a.body.split('\n').map(p=>`<p>${escapeHtml(p)}</p>`).join('')}</div>`).join('')}
    `;
  }

  function attachRowHandlers(fragment, arr, idx, rerender){
    fragment.querySelector('[data-del]').addEventListener('click',()=>{arr.splice(idx,1); saveLocal(); syncPush(); rerender();});
    fragment.querySelector('[data-moveup]').addEventListener('click',()=>{ if(idx>0){ [arr[idx-1],arr[idx]]=[arr[idx],arr[idx-1]]; saveLocal(); syncPush(); rerender(); } });
    fragment.querySelector('[data-movedown]').addEventListener('click',()=>{ if(idx<arr.length-1){ [arr[idx+1],arr[idx]]=[arr[idx],arr[idx+1]]; saveLocal(); syncPush(); rerender(); } });
  }

  function renderAll(){
    setVal('uge', state.uge);
    setVal('aar', state.aar);
    setVal('issueId', state.issueId);
    renderLists();
  }

  // ---------- Tabs ----------
  $$('.tab').forEach(btn=>btn.addEventListener('click',()=>{
    $$('.tab').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    const name = btn.dataset.tab;
    ['research','interviews','articles','overview','sync'].forEach(t=>{
      document.getElementById('tab-'+t).classList.toggle('hide', t!==name);
    });
  }));

  // ---------- Add handlers ----------
  $('#addResearch').addEventListener('click',()=>{
    const r={ topic:getVal('resTopic'), sources:getVal('resSources').split('\n').filter(Boolean), facts:getVal('resFacts').split('\n').filter(Boolean) };
    if(!r.topic){ alert('Skriv et emne.'); return; }
    state.research.push(r); clearResearchForm(); saveLocal(); syncPush(); renderAll();
  });
  function clearResearchForm(){ setVal('resTopic',''); setVal('resSources',''); setVal('resFacts',''); }

  $('#addInterview').addEventListener('click',()=>{
    const iv={ name:getVal('intName'), qs:getVal('intQs').split('\n').filter(Boolean), quotes:getVal('intQuotes').split('\n').filter(Boolean) };
    if(!iv.name){ alert('Skriv hvem I interviewer.'); return; }
    state.interviews.push(iv); setVal('intName',''); setVal('intQs',''); setVal('intQuotes',''); saveLocal(); syncPush(); renderAll();
  });

  $('#addArticle').addEventListener('click',()=>{
    const a={ title:getVal('artTitle'), dek:getVal('artDek'), body:getVal('artBody'), by:getVal('artBy'), section:$('#artSection').value };
    if(!a.title || !a.body){ alert('Overskrift og br√∏dtekst mangler.'); return; }
    state.articles.push(a); setVal('artTitle',''); setVal('artDek',''); setVal('artBody',''); setVal('artBy',''); saveLocal(); syncPush(); renderAll();
  });

  // ---------- Save / load / export ----------
  function saveLocal(){ localStorage.setItem(storageKey(), JSON.stringify(state)); }
  function loadLocal(){ const raw = localStorage.getItem(storageKey()); if(raw){ try{ const s=JSON.parse(raw); Object.assign(state, s); }catch{ } } }
  $('#saveBtn').addEventListener('click',()=>{ saveLocal(); alert('Gemt lokalt i denne browser.'); });
  $('#loadBtn').addEventListener('click',()=>{ loadLocal(); renderAll(); alert('Indl√¶st fra lokalt lager.'); });
  $('#exportBtn').addEventListener('click',()=>{
    const data = JSON.stringify(state, null, 2);
    const blob = new Blob([data], {type:'application/json'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a'); a.href=url; a.download=`avis-${state.aar}-u${state.uge}-${state.issueId||'default'}.json`; a.click(); URL.revokeObjectURL(url);
  });
  $('#printBtn').addEventListener('click',()=>{ window.print(); });

  // ---------- Header controls ----------
  $('#newIdBtn').addEventListener('click',()=>{ state.issueId = `${state.aar}-u${String(state.uge).padStart(2,'0')}-6kl`; renderAll(); });
  $('#uge').addEventListener('change',e=>{ state.uge = Number(e.target.value||state.uge); saveLocal(); syncPush(); });
  $('#aar').addEventListener('change',e=>{ state.aar = Number(e.target.value||state.aar); saveLocal(); syncPush(); });
  $('#issueId').addEventListener('input',e=>{ state.issueId = e.target.value.trim(); saveLocal(); syncPush(); });

  // ---------- Simple realtime via Firebase (optional) ----------
  function getCfg(){ try{ return JSON.parse(localStorage.getItem('firebaseCfg')||'null'); }catch{ return null } }
  function setCfg(cfg){ localStorage.setItem('firebaseCfg', JSON.stringify(cfg)); }
  $('#saveCfg').addEventListener('click',()=>{ const txt=getVal('firebaseCfg'); if(!txt) return; try{ setCfg(JSON.parse(txt)); alert('Firebase ops√¶tning gemt. Genindl√¶s siden og aktiver realtime.'); }catch{ alert('Kunne ikke l√¶se JSON.'); } });
  $('#clearCfg').addEventListener('click',()=>{ localStorage.removeItem('firebaseCfg'); alert('Ops√¶tning nulstillet.'); });

  async function rtEnable(){
    const cfg = getCfg(); if(!cfg){ alert('Inds√¶t Firebase config under Samarbejde.'); return; }
    if(state.rt.enabled) return;
    // Dynamisk import for at holde filen ren
    const { initializeApp } = await import('https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js');
    const { getDatabase, ref, onValue, set } = await import('https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js');
    const app = initializeApp(cfg);
    const db = getDatabase(app);
    const path = `avis/${state.aar}/u${state.uge}/${encodeURIComponent(state.issueId||'default')}`;
    const r = ref(db, path);
    state.rt = { enabled:true, app, db, ref:r, _set:set, _onValue:onValue };
    $('#rtStatus').textContent = 'Online ('+path+')';
    // Lyt efter √¶ndringer fra andre
    state.rt._onValue(r, (snap)=>{
      const data = snap.val();
      if(!data) return;
      // beskyt meta felter
      const { uge, aar, issueId, research, interviews, articles } = data;
      state.uge = uge; state.aar = aar; state.issueId = issueId; state.research = research||[]; state.interviews = interviews||[]; state.articles = articles||[];
      saveLocal(); renderAll();
    });
    // Skub vores nuv√¶rende f√∏rste gang
    await syncPush();
  }
  async function syncPush(){
    if(!state.rt.enabled || !state.rt.ref) return;
    await state.rt._set(state.rt.ref, { uge:state.uge, aar:state.aar, issueId:state.issueId, research:state.research, interviews:state.interviews, articles:state.articles, ts:Date.now() });
  }
  $('#rtToggle').addEventListener('click', rtEnable);

  // ---------- Utils ----------
  function escapeHtml(str=''){ return String(str)
    .replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;')
    .replaceAll('"','&quot;').replaceAll("'",'&#039;'); }

  // ---------- Init ----------
  (function init(){
    // Preload week/year
    const now = new Date(); state.aar = now.getFullYear(); state.uge = now.getWeek();
    // Try load with default key first
    loadLocal();
    renderAll();
  })();
  </script>

  <style media="print">
    header, .tabbar, #tab-research, #tab-interviews, #tab-articles, #tab-sync, .footer { display:none !important }
    #tab-overview { display:block !important }
    body{background:#fff}
    .wrap{max-width:920px}
    .card{page-break-inside:avoid}
  </style>
</body>
</html>
